****SQL-запросы****

**Задача_1: Посчитай, сколько пользователей зарегистрировано в системе. Это таблица user_model. В результате выведи только количество пользователей.**

Запрос_1:

SELECT COUNT (id) 
FROM user_model;


**Задача_2: Добавь три новых разных продукта в таблицу product_model.**

Запрос_2: (id продукта проставляется автоматически в БД)
INSERT INTO product_model 
(name, price, weight, units, "categoryId")
VALUES
('Сок', 50, 100, 'шт', 1),
('Батончик', 150, 50, 'шт', 9),
('Мороженое', 200, 200, 'шт', 9);

Проверить добавление продуктов:

SELECT *
FROM product_model;

**Задача_3: Посчитай количество продуктов в каждой категории и вывести id только тех категорий, в которых количество продуктов больше пяти. Это таблица product_model. Результат отсортируй в порядке возрастания количества продуктов. Подсказка: используй оператор HAVING — аналог WHERE для агрегирующих функций.**

Запрос_3:

SELECT "categoryId",
COUNT(*) 
FROM product_model
GROUP BY "categoryId"
HAVING COUNT(*) > 5
ORDER BY 2 ASC;

**Задача_4: В приложение хотят добавить фичу — возможность вносить правки в заказы. Сработает только с теми заказами, где: стоимость доставки (deliveryPrice) больше 500, стоит статус «заказ формируется» или «заказ в доставке». Напиши запрос, который будет выводить в системе id всех заказов и возможность внести правки. Назови эту колонку update_order. Если статус заказа позволяет вносить изменения, то в колонку update_order нужно вывести yes. Если правки внести нельзя — вывести no. Подсказка: в запросе используй таблицу order_model и оператор CASE-WHEN-THEN.** 

Запрос_4:

SELECT id,
CASE 
WHEN "deliveryPrice" > 500 AND (status = 0 OR status = 1) THEN 'yes'
ELSE 'no'
END
AS update_order
FROM order_model;

Добавить инфу о доставке:

INSERT INTO order_model 
("userId","deliveryPrice",status) 
VALUES (1,550,0), (2,550,1), (3,550,2),(4,400,2), (5,400,1),(6,400,0);

Проверить добавление в таблицу:

SELECT * 
FROM order_model;

**Задача_5: Выведи информацию о продуктах, цена которых находится в диапазоне от 200 до 500. Информация по каждому продукту включает: название продукта, цену, название категории, к которой он относится. Подсказка: в запросе используй объединение двух таблиц: product_model и category_model.** 

Запрос_5:

SELECT 
pm.name,
pm.price,
cm.name
FROM product_model AS pm
INNER JOIN category_model AS cm ON pm."categoryId"=cm.id
WHERE pm.price BETWEEN 200 AND 500;

**Задача_6: Для каждой карточки выведи ее название и количество продуктов (productsCount) для этой карточки. Результат отсортируй по названию карточки. Подсказка: в запросе используй оператор группировки и объединение двух таблиц, card_model и kit_model.** 

Запрос 6:

SELECT
cm.name,
SUM(km."productsCount")
FROM card_model AS cm 
LEFT JOIN kit_model AS km ON cm.id=km."cardId"
GROUP BY cm.name
ORDER BY cm.name;
